---
controller_templates:
  - name: SATELLITE / RHEL - Publish Content View
    project: Automated Management
    playbook: satellite_publish.yml
    inventory: Workshop Inventory
    credentials:
      - Satellite Credential
    extra_vars:
      env: Dev
    notification_templates_started: Telemetry
    notification_templates_success: Telemetry
    notification_templates_error: Telemetry
    survey_enabled: true
    survey:
      name: ''
      description: ''
      spec:
        - question_name: Select Content View
          variable: content_view
          type: multiplechoice
          choices: "{{ hostvars['satellite.example.com']['satellite_content_views'] | selectattr('name', 'match', '^RHEL.*$') | map(attribute='name') | list + hostvars['ansible-1.example.com']['satellite_content_views'] | selectattr('name', 'match', '^RHEL.*$') | map(attribute='name') | list }}"
          required: true

  - name: LEAPP / 01 Analysis
    project: Automated Management
    playbook: leapp_analysis.yml
    inventory: EC2 Dynamic Inventory
    credentials:
      - Workshop Credential
    notification_templates_started: Telemetry
    notification_templates_success: Telemetry
    notification_templates_error: Telemetry
    survey_enabled: true
    survey:
      name: ''
      description: ''
      spec:
        - question_name: Select inventory group
          type: multiplechoice
          variable: dynamic_inventory_group
          choices: "{{ hostvars['satellite.example.com']['satellite_lifecycle_environments'] | selectattr('name', 'match', '^RHEL.*$') | map(attribute='name') | list}}"
          required: true
    ask_limit_on_launch: true

  - name: OS / Upgrade
    project: Automated Management
    playbook: leapp_upgrade.yml
    inventory: EC2 Dynamic Inventory
    credentials:
      - Workshop Credential
    notification_templates_started: Telemetry
    notification_templates_success: Telemetry
    notification_templates_error: Telemetry
    extra_vars:
      org_id: "Default_Organization"
    survey_enabled: true
    survey:
      name: ''
      description: ''
      spec:
        - question_name: Select inventory group
          type: multiplechoice
          variable: dynamic_inventory_group
          choices: "{{ hostvars['satellite.example.com']['satellite_lifecycle_environments'] | selectattr('name', 'match', '^RHEL7.*$') | map(attribute='name') | list }}"
          required: true
    ask_limit_on_launch: true
...
